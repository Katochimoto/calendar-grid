import { assert } from 'chai';
import { createIntervals } from './array';

describe('utils/array', function () {
  describe('createIntervals', function () {
    [
      [
        [],
        [
          [0,24,1]
        ]
      ],
      [
        [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],
        [
          [0,24,0]
        ]
      ],
      [
        [ 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],
        [
          [0,2,1],[2,24,0]
        ]
      ],
      [
        [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19 ],
        [
          [0,20,0],[20,24,1]
        ]
      ],
      [
        [ 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21 ],
        [
          [0,2,1],[2,22,0],[22,24,1]
        ]
      ],
      [
        [ 2,3,4,5,6,7,8,9, 12,13,14,15,16,17,18,19,20,21 ],
        [
          [0,2,1],[2,10,0],[10,12,1],[12,22,0],[22,24,1]
        ]
      ],
      [
        [1,3,5,7,9,11,13,15,17,19,21,23],
        [
          [0,1,1],[1,2,0],[2,3,1],[3,4,0],[4,5,1],[5,6,0],[6,7,1],[7,8,0],[8,9,1],[9,10,0],[10,11,1],
          [11,12,0],[12,13,1],[13,14,0],[14,15,1],[15,16,0],[16,17,1],[17,18,0],[18,19,1],[19,20,0],[20,21,1],
          [21,22,0],[22,23,1],[23,24,0]
        ]
      ],
      [
        [0,2,4,6,8,10,12,14,16,18,20,22],
        [
          [0,1,0],[1,2,1],[2,3,0],[3,4,1],[4,5,0],[5,6,1],[6,7,0],[7,8,1],[8,9,0],[9,10,1],[10,11,0],
          [11,12,1],[12,13,0],[13,14,1],[14,15,0],[15,16,1],[16,17,0],[17,18,1],[18,19,0],[19,20,1],[20,21,0],
          [21,22,1],[22,23,0],[23,24,1]
        ]
      ],
      [
        [9,10,11,12,14,15,16,17,18],
        [
          [0,9,1],[9,13,0],[13,14,1],[14,19,0],[19,24,1]
        ]
      ],
      [
        [15,16,17],
        [
          [0,15,1],[15,18,0],[18,24,1]
        ]
      ]

    ].forEach(item => {
      it(JSON.stringify(item[0]), function () {
        assert.equal(
          JSON.stringify(createIntervals(item[0], false)),
          JSON.stringify(item[1])
        );
      });
    })
  });
});
